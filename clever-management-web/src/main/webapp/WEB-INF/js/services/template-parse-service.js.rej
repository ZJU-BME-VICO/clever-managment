diff a/clever-management-web/src/main/webapp/WEB-INF/js/services/template-parse-service.js b/clever-management-web/src/main/webapp/WEB-INF/js/services/template-parse-service.js	(rejected hunks)
@@ -115,12 +115,17 @@
 			labelType = 'attribute';
 			label = attribute;
 		}
-		//term_definitions
+		//term_definitions 还是有问题。。。。
 		if (node.term_definitions) {
 			term_definitions = node.term_definitions;
-		}else if(termDefinition){	
-				term_definitions=termDefinition;				
-			}
+		}else if(node.parent){ 
+		        if(node.parent.term_definitions){
+    		     term_definitions=node.parent.term_definitions;
+    			 }else if(node.parent.parent){
+    			     if(node.parent.parent.term_definitions)
+                term_definitions=node.parent.parent.term_definitions; } 
+                }              
+            
 		if(term_definitions){
 			name=getDefinition(code,term_definitions);
 		}
@@ -211,6 +217,7 @@
 			});
 			}
     	}
+    	}
     	return name;
     }
     function getleafNode(node){
