<div class="row">
	<div class="col-xs-12 col-md-12 col-lg-12 hbox">
		<div class="panel panel-default" ng-show="!isApiListHidden">
			<div class="panel-heading">
				<div class="btn-group" style="width: 100%">
					<button class="btn btn-success" style="width: 50%; background-color:#9AC39A; border-color: #BCD5BC " ng-click="openAddUpdateModal('sm')">
						{{'DEVELOPMENT_API_EDIT_ADD_UPDATE' | translate}}
					</button>
					<button class="btn btn-danger" style="width: 50%; background-color:#B48D8C; border-color: #D2C6C6" ng-click="openDeleteModal('lg')">
						{{'DEVELOPMENT_API_EDIT_REMOVE' | translate}}
					</button>
				</div>
				<hr>

				<div class="row">
					<div class="col-md-7 col-lg-7 col-xs-7">
						<select  id="category" ng-model="selectedCategory" class="picker form-control" ng-options="obj.name for obj in masterList"></select>
					</div>
					<div class="col-md-5 col-lg-5 col-xs-5">
						<select id="version" class="picker form-control" ng-model="selectedVersion" ng-change="getApiListById(selectedCategory.id,selectedVersion)">
							<option ng-repeat="version in selectedCategory.versionList">{{version}}</option>
						</select>
					</div>
				</div>
			</div>

			<div class="list-group" ng-style="{height: containerHeight - 130}" style="overflow-x:auto; overflow-y: auto; white-space: nowrap;  margin-left: -5px;">

				<tree-view tree-data="versionMaster.rootUrlMasters" node-id="id"
				click-node-callback="selectApi(value)"
				node-children="apiList"
				tree-control="treeControl"
				node-alias-name="node"
				search-key-mapper="searchKeyMapper"
				click-node-menu-callback="clickListNodeMenu(node, type)"
				language="treeLanguage">
					<tree-expanded-icon>
						<span class="clever-icon expanded" style="padding: 0 6px;height: 12px;background-position-y: 6px;"></span>
					</tree-expanded-icon>
					<tree-collapsed-icon>
						<span class="clever-icon collapsed" style="padding: 0 6px;height: 12px;background-position-y: 6px;"></span>
					</tree-collapsed-icon>
					<tree-node-label>
						<span ng-show="language == 'en'"> <img  ng-show="node.name" class="clever-icon api" style="padding: 0 10px;height: 16px;"></img> <a ng-show="node.name" ng-bind-html="node.name | highlight:keyword | unsafe"  class="api"></a> <img  ng-show="node.rootUrlName" class="clever-icon list folder" style="padding: 0 10px;height: 16px;"></img> <span ng-show="node.rootUrlName" ng-bind-html="node.rootUrlName | highlight:keyword | unsafe" style="font-weight:bold; color:#6F0101"> </span> </span>
						<span ng-show="language == 'zh'"> <img  ng-show="node.name" class="clever-icon api" style="padding: 0 10px;height: 16px;"></img> <a ng-show="node.name" ng-bind-html="node.chineseName | highlight:keyword | unsafe"  class="api"></a> <img  ng-show="node.rootUrlName" class="clever-icon list folder" style="padding: 0 10px;height: 16px;"></img> <span ng-show="node.rootUrlName" ng-bind-html="node.chineseName | highlight:keyword | unsafe" style="font-weight:bold; color:#6F0101"></span> </span>
					</tree-node-label>
				</tree-view>
			</div>

		</div>
		<splitter is-adjust-enabled="!isApiListHidden" style="min-height: 100%;">
			<i style="cursor: pointer" ng-click="isApiListHidden = !isApiListHidden" ng-show="isApiListHidden" tooltip-placement="right" tooltip="Expand" tooltip-popup-delay="500"> <span class="glyphicon glyphicon-chevron-right" ng-style="{'margin-top': containerHeight/2}" ></span> </i>
			<i style="cursor: pointer" ng-click="isApiListHidden = !isApiListHidden" ng-show="!isApiListHidden" tooltip-placement="right" tooltip="Collapse" tooltip-popup-delay="500"> <span class="glyphicon glyphicon-chevron-left" ng-style="{'margin-top': containerHeight/2}" ></span> </i>
		</splitter>
		<div class="col-xs-12 col-md-12 col-lg-12 flex-box">
			<div class="btn-group" ng-if="!isApiListHidden" style="display:flex" >
				<button ng-click="stretch()" class="btn btn-default " style="width: 92px">
					<span>{{stretchState | translate}}</span>
				</button>
				<i class="search-icon glyphicon glyphicon-search" style="position: absolute;
				top: 3px;
				left: 90px;
				z-index: 20;
				width: 30px;
				font-size: 17px;
				line-height: 30px;
				color: #e6e9ed;
				text-align: center;"></i>
				<input  type="text" style="border-bottom-right-radius: 17px; border-top-right-radius:17px; padding-left: 40px; width: 50%"  ng-model = "apiListFilter.value" class="form-control" placeholder="{{'SEARCH_HINT' | translate}}" />
				<span class="input-group-addon" style="width: 100px;">{{'ARCHETYPE_PANE_LANGUAGE' | translate}}:</span>
				<div class="btn-group" dropdown>
					<button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle style="width: 160px;">
						{{treeLanguage}} <span class="glyphicon glyphicon-chevron-down pull-right" style="margin-top: 2px;"></span>
					</button>
					<ul class="dropdown-menu" role="menu">
						<li ng-repeat="language in languages" style="text-align: center">
							<a style="width:inherit" href class="text-center" ng-click="selectLanguage(language)">{{language}}</a>
						</li>
					</ul>
				</div>
			</div>
			<hr>
			<tabset tab-control="tabControl">

				<tab heading="{{'DEVELOPMENT_API_EDIT_ROOT_URL_INFO' | translate }}">
					<div  ng-style="{height: containerHeight - 170}" style="overflow: auto">
						<div>
							<table class="variables-matrix input-arguments">
								<thead>
									<tr>
										<th>{{'DEVELOPMENT_API_EDIT_ENGLISH' | translate}}</th>
										<th>{{'DEVELOPMENT_API_EDIT_CHINESE' | translate}}</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="item in versionMaster.rootUrlMasters">
										<td>{{item.rootUrlName}}</td>
										<td>
										<input class="form-control" ng-model="item.chineseName">
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div style="margin-top: 20px">
						<button class="btn btn-success pull-right"  ng-click="saveRootUrl()" style="position: center">
							{{'DEVELOPMENT_API_EDIT_SUBMIT_CHANGES' | translate}}
						</button>
					</div>
				</tab>
				<tab heading="{{'DEVELOPMENT_API_EDIT_BASE_INFO' | translate }}" id="baseTabId">
					<div ng-if="selectedApi" ng-style="{height: containerHeight - 170}">
						<h2 style="margin-top: 15px;" id="api-name">{{selectedApi.chineseName}}({{selectedApi.name}})</h2>
						<p style="word-break:break-all; word-wrap:break-all;">
							{{'DEVELOPMENT_API_EDIT_ENGLISH' | translate}}:{{selectedApi.description}}
						</p>
						<p style="word-break:break-all; word-wrap:break-all;">
							{{'DEVELOPMENT_API_EDIT_CHINESE' | translate}}:{{selectedApi.chineseDescription}}
						</p>
						<table class="variables-matrix input-arguments">
							<thead>
								<tr>
									<th>{{'DEVELOPMENT_API_EDIT_ITEM' | translate}}</th>
									<th>{{'DEVELOPMENT_API_EDIT_ENGLISH' | translate}}</th>
									<th>{{'DEVELOPMENT_API_EDIT_CHINESE' | translate}}</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>{{'DEVELOPMENT_API_EDIT_NAME' | translate}}</td>
									<td>{{selectedApi.name}}</td>
									<td>
									<input class="form-control" ng-model="selectedApi.chineseName">
									</td>
								</tr>
								<tr>
									<td>{{'DEVELOPMENT_API_EDIT_DESCRIPTIOIN' | translate}}</td>
									<td>
									<input class="form-control" ng-model="selectedApi.description">
									</td>
									<td>
									<input class="form-control" ng-model="selectedApi.chineseDescription">
									</td>
								</tr>
							</tbody>
						</table>
						<div style="margin-top: 20px">
							<button class="btn btn-success pull-right" ng-click="saveApiBaseInfo()" style="position: center">
								{{'DEVELOPMENT_API_EDIT_SUBMIT_CHANGES' | translate}}
							</button>
						</div>
					</div>
					<div ng-if="!selectedApi" ng-style="{height: containerHeight - 170}" >
						<dd style="text-align: center">
							<h2 style="line-height: 200px;" >{{'DEVELOPMENT_API_EDIT_NO_API_INFO_HINT' | translate}}</h2>
						</dd>
					</div>
				</tab>

				<tab heading="{{'DEVELOPMENT_API_EDIT_PARAM_INFO' | translate }}">
					<div style="padding: 15px; overflow: auto" ng-if="selectedApi" ng-style="{height: containerHeight - 170}">
						<div style="margin-top: 20px">
							<span class="table-label">{{'DEVELOPEMENT_API_EDIT_REQUEST_PARAMS' | translate}}</span>
							<table class="variables-matrix input-arguments">
								<thead>
									<tr>
										<th style="width:120px">{{'DEVELOPMENT_API_EDIT_NAME' | translate}}</th>

										<th style="width:80px">{{'DEVELOPMENT_API_EDIT_TYPE' | translate}}</th>
										<th style="width:120px">{{'DEVELOPMENT_API_EDIT_REQUIRED' | translate}}</th>
										<th>{{'DEVELOPMENT_API_EDIT_DESCRIPTIOIN' | translate}}</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="requestParam in selectedApi.requestParams">
										<td>
										<p>
											{{requestParam.name}}
										</p></td>

										<td><span class="button-label {{getFixClass(requestParam.type)}}">{{getFixTypeName(requestParam.type)}}</span></td>
										<td><select class="form-control" ng-model="requestParam.required" ng-options="o.v as o.n for o in [{ n: 'false', v: false }, { n: 'true', v: true }]">

										</select></td>
										<td>
										<input class="form-control" placeholder="{{'DEVELOPMENT_API_EDIT_DESCRIPTION_PLACEHOLDER_EN' | translate}} " ng-model="requestParam.description">
										<br>
										<input class="form-control" placeholder="{{'DEVELOPMENT_API_EDIT_DESCRIPTION_PLACEHOLDER_ZH' | translate}}" ng-model="requestParam.chineseDescription">
										</td>
									</tr>
								</tbody>
							</table>
							<div class="modal-footer">
								<button class="btn btn-success" ng-click="addRequestParam('sm')">
									Add Param
								</button>
							</div>

						</div>
						<div style="margin-top: 20px">
							<span class="table-label">{{'DEVELOPEMENT_API_EDIT_RETURN_PARAMS' | translate}}</span>
							<table class="variables-matrix input-arguments">
								<thead>
									<tr>
										<th style="width:120px">{{'DEVELOPMENT_API_EDIT_NAME' | translate}}</th>

										<th style="width:100px">{{'DEVELOPMENT_API_EDIT_TYPE' | translate}}</th>
										<th>{{'DEVELOPMENT_API_EDIT_DESCRIPTIOIN' | translate}}</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="returnParam in selectedApi.returnParams">
										<td>
										<p>
											{{returnParam.name}}
										</p></td>

										<td><span class="button-label {{getFixClass(returnParam.type)}}">{{getFixTypeName(returnParam.type)}}</span></td>

										<td>
										<input class="form-control" placeholder="{{'DEVELOPMENT_API_EDIT_DESCRIPTION_PLACEHOLDER_EN' | translate}} " ng-model="returnParam.description">
										<br>
										<input class="form-control" placeholder="{{'DEVELOPMENT_API_EDIT_DESCRIPTION_PLACEHOLDER_ZH' | translate}}" ng-model="returnParam.chineseDescription">
										</td>
									</tr>
								</tbody>
							</table>
						</div>

					</div>
					<div ng-if="selectedApi" style="margin-top: 20px">
						<button class="btn btn-success pull-right" ng-click="saveParamInfo()" style="position: center">
							{{'DEVELOPMENT_API_EDIT_SUBMIT_CHANGES' | translate}}
						</button>
					</div>
					<div ng-if="!selectedApi" ng-style="{height: containerHeight - 170}" >
						<dd style="text-align: center">
							<h2 style="line-height: 200px;" >{{'DEVELOPMENT_API_EDIT_NO_API_INFO_HINT' | translate}}</h2>
						</dd>
					</div>
				</tab>
				<!-- class master info edit pane -->
				<tab heading="{{'DEVELOPMENT_API_EDIT_CLASS_INFO' | translate }}">
					<div  ng-style="{height: containerHeight - 170}" style="overflow: auto">
						<div class="col-md-12"  ng-repeat="master in classMasters" >
							<span class="table-label">{{master.name}}</span>
							<table class="variables-matrix input-arguments">
								<thead>
									<tr>
										<th style="width:120px">{{'DEVELOPMENT_API_EDIT_NAME' | translate}}</th>

										<th style="width:80px">{{'DEVELOPMENT_API_EDIT_TYPE' | translate}}</th>
										<th style="width:120px">{{'DEVELOPMENT_API_EDIT_REQUIRED' | translate}}</th>
										<th>{{'DEVELOPMENT_API_EDIT_DESCRIPTIOIN' | translate}}</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="attribute in master.attributes">
										<td>
										<p>
											{{attribute.name}}
										</p></td>

										<td><span class="button-label {{getFixClass(attribute.type)}}">{{getFixTypeName(attribute.type)}}</span></td>
										<td><select class="form-control" ng-model="attribute.isRequired" ng-options="o.v as o.n for o in [{ n: 'false', v: false }, { n: 'true', v: true }]">

										</select></td>
										<td>
										<input class="form-control" placeholder="{{'DEVELOPMENT_API_EDIT_DESCRIPTION_PLACEHOLDER_EN' | translate}} " ng-model="attribute.descriptionEn">
										<br>
										<input class="form-control" placeholder="{{'DEVELOPMENT_API_EDIT_DESCRIPTION_PLACEHOLDER_ZH' | translate}}" ng-model="attribute.descriptionZh">
										</td>
									</tr>
								</tbody>
							</table>
							<div class="modal-footer">
						       <button class="btn btn-success pull-right" ng-click="saveAttribute(master)" style="position: center">
                               {{'DEVELOPMENT_API_EDIT_SUBMIT_CHANGES' | translate}}
                            </div>
                        </button>
						</div>
					</div>
				</tab>
				<!-- add master to db -->
				<tab heading="addMaster">
					<button class="btn btn-success" ng-click="newMaster()">
						New Master
					</button>
					<button class="btn btn-success" ng-click="newAttribute()">
						New Attribute
					</button>
					<table class="variables-matrix input-arguments" ng-show="freshMaster">
						<thead>
							<tr>
								<th>Name</th>
								<th>Type</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>
								<input type="text" ng-model="freshMaster.name"  class="form-control"/>
								</td>
								<td>
								<input type="text" ng-model="freshMaster.type" class="form-control"/>
								</td>
							</tr>
						</tbody>
					</table>
					<table class="variables-matrix input-arguments" ng-show="freshMaster.attributes">
						<thead>
							<tr>
								<th style="width:120px">{{'DEVELOPMENT_API_EDIT_NAME' | translate}}</th>

								<th style="width:80px">{{'DEVELOPMENT_API_EDIT_TYPE' | translate}}</th>
								<th style="width:120px">{{'DEVELOPMENT_API_EDIT_REQUIRED' | translate}}</th>
								<th>{{'DEVELOPMENT_API_EDIT_DESCRIPTIOIN' | translate}}</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="attribute in freshMaster.attributes">
								<td>
								<input type="text" ng-model="attribute.name"  class="form-control"/>
								</td>
								<td>
								<input type="text" ng-model="attribute.type"  class="form-control"/>
								</td>
								<td><select class="form-control" ng-model="attribute.isRequired" ng-options="o.v as o.n for o in [{ n: 'false', v: false }, { n: 'true', v: true }]"></select></td>
								<td>
								<input class="form-control" placeholder="{{'DEVELOPMENT_API_EDIT_DESCRIPTION_PLACEHOLDER_EN' | translate}} " ng-model="attribute.descriptionEn">
								<br>
								<input class="form-control" placeholder="{{'DEVELOPMENT_API_EDIT_DESCRIPTION_PLACEHOLDER_ZH' | translate}}" ng-model="attribute.descriptionZh">
								</td>
							</tr>
						</tbody>
					</table>
					<div class="modal-footer">
						<button class="btn btn-info" ng-click="submitMaster()">
							Submit
						</button>

					</div>
				</tab>
			</tabset>
		</div>
	</div>
</div>
</div>

